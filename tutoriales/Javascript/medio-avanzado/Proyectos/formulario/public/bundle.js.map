{"version":3,"file":"bundle.js","sources":["../src/validarCantidad.js","../src/marcarPasoComoCompletado.js","../src/siguientePaso.js","../src/formulario.js"],"sourcesContent":["/*\r\n    VALIDAR CANTIDAD\r\n    \r\n        - Obtengo el formulario y su input con el id cantidad\r\n        - Defino la expresion regular que valida un número entero con decimales opcionales\r\n        - Si no cumple la expresion regular. Le añado la clase para que muestre el mensaje de error y aplique las css correspondientes\r\n            - Si la cumple le quito la clase para que deje de mostrar el error\r\n\r\n\r\n\r\n*/\r\n\r\nconst formulario = document.getElementById('formulario');\r\nconst inputCantidad = formulario.cantidad;\r\n\r\nconst validarCantidad = () => {\r\n    const enteroConDecimalesOpcionales = /^\\d+(\\.\\d+)?$/;\r\n        \r\n    if(!enteroConDecimalesOpcionales.test(inputCantidad.value)){\r\n        inputCantidad.classList.add('formulario__input--error');\r\n        return false;\r\n\r\n    } else {\r\n        inputCantidad.classList.remove('formulario__input--error');\r\n        return true;    \r\n    }\r\n    \r\n};\r\n\r\nexport default validarCantidad;","/*\r\n    PASO DEL FORMULARIO COMPLETADO\r\n        - Añado el icono de check\r\n            - Está en la etiqueta <span>\r\n                - tiene la clase class=\"linea-pasos__paso-check linea-pasos__paso-check--active\"\r\n                - Debemos cambiar el --active por un --checked para aplicar reglas de css\r\n\r\n            - Obtengo el div que tiene la clase linea-pasos\r\n                - Me adentro y localizo el div que tenga un atributo personalizado como el argumento paso\r\n                    - Uso templates strings para acceder a su span y modificarle el --active por el --checked\r\n                    - Debo eliminar de la clase \"linea-pasos__paso-check--active\" para poder añadir la marca de finalizado\r\n\r\n*/\r\n\r\nconst marcarPasoComoCompletado = (paso) => {\r\n    \r\n    document\r\n        .querySelector(`.linea-pasos [data-paso = \"${paso}\"] span`)\r\n        .classList.add('linea-pasos__paso-check--checked');\r\n\r\n};\r\n\r\nexport default marcarPasoComoCompletado;","/*\r\n    SIGUIENTE PASO\r\n        \r\n        - Los pasos son cuatro y los meteré en un array\r\n            - 0 sería la cantidad\r\n            - 1 serian los datos\r\n            - 2 sería el metodo de pago\r\n            - 3 sería la confirmación\r\n\r\n        - Detectamos el indice de la posición actual\r\n            - Es el único que tiene la clase \"linea-pasos__paso-check--active\"\r\n            - Su elemento padre tiene el atributo personalizado con el paso\r\n            - Mediante el metodo para arrays indexOf obtenemos su indice dentro de todos los pasos\r\n\r\n        - Si el indice actual es 0,1 u 2 movemos las marcas chequeado y activo de la línea de pasos\r\n            - Significa que el indice actual sea menor que la cantidad de elementos del array -1\r\n\r\n            - El paso actual ya está chequeado\r\n                - En marcarPasoComoCompletado ya le puse la clase linea-pasos__paso-check--checked\r\n                - Debo quitarle la clase linea-pasos__paso-check--active a su span correspondiente\r\n                - Apareciendo la marca de chequeado que estaba detras.\r\n\r\n            - El paso siguiente debo marcarlo como paso activo\r\n                - Añadiendole la clase linea-pasos__paso-check--active\r\n\r\n            - Debo mostrar el siguiente formulario\r\n                - \r\n        \r\n        - Si no se cumple estaré en el paso de confirmación y debo mostrar los valores\r\n\r\n\r\n        \r\n\r\n\r\n*/\r\n\r\nconst siguientePaso = () => {\r\n    const todosLosPasos = [...document.querySelectorAll('.linea-pasos__paso')];\r\n    console.log(todosLosPasos);\r\n    const pasoActual = document.querySelector('.linea-pasos__paso-check--active').closest('.linea-pasos__paso');\r\n    console.log(pasoActual);\r\n    const indexPasoActual = todosLosPasos.indexOf(pasoActual);\r\n    console.log(indexPasoActual);\r\n\r\n    if(indexPasoActual < todosLosPasos.length -1){\r\n        pasoActual.querySelector('span').classList.remove('linea-pasos__paso-check--active');\r\n        todosLosPasos[indexPasoActual+1].querySelector('span').classList.add('linea-pasos__paso-check--active');    \r\n    };\r\n\r\n    \r\n\r\n    \r\n\r\n};\r\n\r\nexport default siguientePaso;\r\n","/*\r\n\r\n    VALIDA TODOS LOS FORMULARIOS POR LO QUE IRÁ PASANDO EL PROYECTO\r\n        \r\n        - Formularios:\r\n            - Cantidad\r\n            - Nombre y correo electronico del receptor\r\n\r\n        - Valido dos veces\r\n            - En la primera valido mientras escribo y en la segunda aumento el paso por el que voy\r\n            - Si no lo hiciera dos veces y el usuario no escribiera nada, no validaría nunca\r\n            \r\n            - Mientras escribo.\r\n                - Localizo el input en el que estoy\r\n                - Dependiendo en que input sabré que tengo que validar\r\n                - Haré funciones para validar porque despues validaré de nuevo\r\n                    - La función devolverá true o false dependiendo si es válido o no con respecto a una expresion regular\r\n    \r\n            - Al darle al botón de siguiente\r\n                - Localizaré el paso por el que voy\r\n                    - Tendrá la clase linea-pasos__paso-check--active\r\n                    - Su div padre tiene un atributo personalizado llamado \"paso\" con el paso por el que voy\r\n\r\n                - Mediante condicionales y dependiendo del paso haré lo siguiente:\r\n                    - Si se cumple la segunda validación\r\n                        - Marco ese paso como completado\r\n                        - Paso al siguiente\r\n                            - Implica cambiar el icono circular que indica el paso actual al siguiente paso\r\n                            - Marcar el paso validado con la marca de chequeado\r\n\r\n                \r\n\r\n*/\r\n\r\nimport validarCantidad from \"./validarCantidad\";\r\nimport marcarPasoComoCompletado from \"./marcarPasoComoCompletado\";\r\nimport siguientePaso from \"./siguientePaso\";\r\n\r\nconst formulario = document.getElementById('formulario');\r\n\r\n\r\n// Primera validación: Mientras el usuario escribe\r\nformulario.addEventListener('keyup', (e) => {\r\n    \r\n    // Si esa tecla fuera un input\r\n    if(e.target.tagName === 'INPUT'){\r\n\r\n        // Si ese input tiene el id cantidad. Valido cantidad. Le paso el formulario y las teclas pulsadas y levantadas\r\n        if(e.target.id === 'cantidad'){\r\n            validarCantidad('cantidad');\r\n        }\r\n\r\n        // Si ese input tiene el id nombre-receptor. Valido el nombre del receptor\r\n        if(e.target.id === 'nombre-receptor'){\r\n            console.log('valido el nombre del receptor');\r\n        }\r\n\r\n        // Si ese input tiene el id correo-receptor. Valido el email del receptor\r\n        if(e.target.id === 'correo-receptor'){\r\n            console.log('valido el correo del receptor');\r\n        }        \r\n    }\r\n\r\n    \r\n\r\n});\r\n\r\n// Segunda validación: Cuando pulse el boton de siguiente\r\nconst btnSiguiente = document.getElementById('formulario__btn');\r\nbtnSiguiente.addEventListener('click', (e) => {\r\n\r\n    e.preventDefault();\r\n    const pasoActual = document.querySelector('.linea-pasos__paso-check--active').closest('div').dataset.paso;\r\n\r\n    if (pasoActual === 'cantidad') {\r\n        if (validarCantidad()){\r\n            marcarPasoComoCompletado('cantidad');\r\n            siguientePaso();\r\n        };\r\n\r\n        \r\n        \r\n    };\r\n});\r\n\r\n"],"names":["formulario"],"mappings":"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"}